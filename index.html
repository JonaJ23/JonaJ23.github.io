<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"/>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dogs - index</title>
  </head>
  <body>
    <div class="headerBackground">
      <header><i class="fas fa-paw"></i> DOGS</header>
    </div>

    <!-- NAVIGATION -->
    <div class="header-navbar">
      <nav class="navbar">
        <a class="navtext" href="index.html">Start</a>
        <a class="navtext" href="about.html">About us</a>
        <div class="dropdown">
          <div class="dropbtn">Social Media</div>
          <div class="dropdown-content">
            <a href="https://www.facebook.com/">Facebook</a>
            <a href="https://twitter.com/">Twitter</a>
            <a href="https://www.reddit.com/">Reddit</a>
          </div>
        </div>
        <a class="contact" href="contact.html">Contact</a>
      </nav>
    </div>

    <!-- FETCH DOG-IMAGE -->
    <div class="get-dog-button">
      <a href="javascript:void(0);" class="get-dog button">Fetch doggy!</a>
    </div>
    <div class="container">
      <div>
        <div class="code-wrapper">
          <div class="dog-image"></div>
        <span class="breed">Breed: <select class="dog-selector">
        </select>
        </span>
        </div>
        </div>
    </div>
    <div class="get-dogInfo" onclick="getDogInfo()">
      <a class="getDogInfoTitle">Fetch random breed info</a>
    </div>
    <div class="container2">
      <div class="code-wrapper2">
        <h1>Discover new dog breeds and information about them!</h1>
        <h3 id="breedName">Breed group: </h3>
        <h3 id="breedGroup">Breed group: </h3>
        <h3 id="dogWeight">Dog Weight: </h3>
        <h3 id="dogHeight">Dog height: </h3>
        <h3 id="dogLifespan">Dog Lifespan: </h3>
      </br>
        <p><i>Interested in how the breed looks like? Use our images-searcher right above to see how the breed looks like!</i></p>
      </div>
  </div>




    <!-- JAVASCRIPT -->

    <!-- Cdnjs (Content Delivery Network w/javascript) is an open-source software hosted by Cloudfare
        to offer quicker and easier loading times for all the files on a website. -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>


    <!-- FETCH DOG -->
    <!-- With jQuery the selected breed (value) of dog get JSON data using an AJAX HTTP GET request in order to fetch the breed list from it's API.
       The selected breed will load a randomized image from it's library for every new request with the fetching button. -->   
    <script>
    function getDog() {
      let selectedDog=$(".dog-selector option:selected").val();
      dogURL=selectedDog.replace(/-/g,'/');
      $.getJSON("https://dog.ceo/api/breed/" +dogURL+ "/images/random",
      function(result){$(".dog-image").html("<img src='" +result.message+ "'>");
    })};

      function loadDogs() {
      $.getJSON("https://dog.ceo/api/breeds/list/all",
      function(result){let breeds=result.message;
        firstDog=Object.keys(breeds)[0];
        $.each(breeds,function(dog,breed) {

        if(breeds[dog].length>=1) {
          for(i=0;i<breeds[dog].length;i++)

      {$(".dog-selector").append('<option value="' +dog+ '-' +breeds[dog][i]+ '">' +breeds[dog][i]+ ' ' +dog+ '</option>');
      };
    }
      else if(breeds[dog].length<1){$(".dog-selector").append('<option value="' +dog+ '">'+dog+'</option>');
      }
    });
      $.getJSON("https://dog.ceo/api/breed/" + firstDog + "/images/random",
      function(result){$(".dog-image").html("<img src='" + result.message + "'>");
      });
    });
    };
      $(".dog-selector").change(function() {
        $(".dog-selector option:selected").each(function() 
        {getDog();
        });
      });
      $(".get-dog-button").click(function(){getDog();
      });$(document).ready(function(){loadDogs();
    });
    </script>



    <!-- FOOTER -->
    <footer><br><br>
      <a class="footer" href="https://github.com/JonaJ23/JonaJ23.github.io"
        >Github Repository</a>
    </footer>
    <script src="script.js"></script>
  </body>
</html>




